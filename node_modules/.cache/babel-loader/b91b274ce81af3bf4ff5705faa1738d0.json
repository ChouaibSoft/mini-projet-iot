{"remainingRequest":"/home/clokbani/linux/DevWeb/mini-projet-iot/iot-platform/node_modules/babel-loader/lib/index.js!/home/clokbani/linux/DevWeb/mini-projet-iot/iot-platform/node_modules/eslint-loader/index.js??ref--13-0!/home/clokbani/linux/DevWeb/mini-projet-iot/iot-platform/src/router/index.js","dependencies":[{"path":"/home/clokbani/linux/DevWeb/mini-projet-iot/iot-platform/src/router/index.js","mtime":1578945447408},{"path":"/home/clokbani/linux/DevWeb/mini-projet-iot/iot-platform/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/clokbani/linux/DevWeb/mini-projet-iot/iot-platform/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/clokbani/linux/DevWeb/mini-projet-iot/iot-platform/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport { store } from '../store/store';\nimport i18n from '../i18n';\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'home',\n    component: function component() {\n      return import(\"@/views/Home\");\n    }\n  }, {\n    path: '/auth',\n    name: 'auth',\n    component: function component() {\n      return import(\"@/views/Auth\");\n    },\n    meta: {\n      title: i18n.t('page-title.auth')\n    }\n  }, {\n    path: \"/dashboard\",\n    name: \"dashboard\",\n    component: function component() {\n      return import(\"@/views/Dashboard\");\n    },\n    meta: {\n      breadcrumb: 'Home Page',\n      protected: true,\n      title: i18n.t('page-title.dashboard')\n    },\n    children: [{\n      path: \"fields/new\",\n      name: \"new-channel\",\n      meta: {\n        breadcrumb: 'Items',\n        protected: true,\n        title: i18n.t('page-title.new-channel')\n      },\n      component: function component() {\n        return import(\"@/views/AddChannel\");\n      }\n    }, {\n      path: \"fields\",\n      name: \"my-channels\",\n      component: function component() {\n        return import(\"@/views/MyChannels\");\n      },\n      meta: {\n        protected: true,\n        title: i18n.t('page-title.my-channels'),\n        breadcrumb: 'Home Page'\n      }\n    }, {\n      path: \"fields/:id\",\n      name: \"detail-channels\",\n      meta: {\n        protected: true,\n        title: i18n.t('page-title.detail-channel')\n      },\n      component: function component() {\n        return import(\"@/views/DetailChannel\");\n      },\n      children: [{\n        path: \"view\",\n        name: \"view\",\n        meta: {\n          protected: true,\n          title: i18n.t('page-title.view')\n        },\n        component: function component() {\n          return import(\"@/components/Visualisation\");\n        }\n      }]\n    }, {\n      path: \"actions/new\",\n      name: \"new-trigger\",\n      meta: {\n        protected: true,\n        title: i18n.t('page-title.new-trigger'),\n        breadcrumb: 'Home Page'\n      },\n      component: function component() {\n        return import(\"@/views/AddTrigger\");\n      }\n    }, {\n      path: \"actions\",\n      name: \"my-triggers\",\n      meta: {\n        protected: true,\n        title: i18n.t('page-title.my-triggers')\n      },\n      component: function component() {\n        return import(\"@/views/MyTriggers\");\n      }\n    }, {\n      path: \"actions/:id\",\n      name: \"detail-trigger\",\n      meta: {\n        protected: true,\n        title: i18n.t('page-title.detail-trigger')\n      },\n      component: function component() {\n        return import(\"@/views/DetailTrigger\");\n      },\n      children: [{\n        path: \"overview\",\n        name: \"trigger-overview\",\n        meta: {\n          protected: true,\n          title: i18n.t('page-title.trigger-overview')\n        },\n        component: function component() {\n          return import(\"@/components/TriggerOverview\");\n        }\n      }, {\n        path: \"settings\",\n        name: \"trigger-settings\",\n        meta: {\n          protected: true,\n          title: i18n.t('page-title.trigger-settings')\n        },\n        component: function component() {\n          return import(\"@/components/TriggerSettings\");\n        }\n      }]\n    }]\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  if (!to.meta.protected) {\n    //route is public, don't check for authentication\n    if (store.state.token != null && to.path === '/auth') {\n      router.push('/dashboard');\n    } else {\n      next();\n    }\n  } else {\n    //route is protected, if authenticated, proceed. Else, login\n    if (store.getters.getToken != null) {\n      next();\n    } else {\n      router.push('/auth');\n    }\n  }\n});\nrouter.afterEach(function (to) {\n  Vue.nextTick(function () {\n    document.title = to.meta.title ? to.meta.title : 'Iot Agriculture';\n  });\n});\nexport default router;",{"version":3,"sources":["/home/clokbani/linux/DevWeb/mini-projet-iot/iot-platform/src/router/index.js"],"names":["Vue","Router","store","i18n","use","router","mode","routes","path","name","component","meta","title","t","breadcrumb","protected","children","beforeEach","to","from","next","state","token","push","getters","getToken","afterEach","nextTick","document"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport { store } from '../store/store'\nimport i18n from '../i18n'\n\nVue.use(Router);\n\nconst router = new Router({\n    mode: 'history',\n    routes: [\n        {\n            path: '/',\n            name: 'home',\n            component: () => import(\"@/views/Home\"),\n        },\n        {\n            path: '/auth',\n            name: 'auth',\n            component: () => import(\"@/views/Auth\"),\n            meta: {\n                title: i18n.t('page-title.auth')\n            }\n        },\n        {\n            path: \"/dashboard\",\n            name:\"dashboard\",\n            component: () => import(\"@/views/Dashboard\"),\n            meta: {\n                breadcrumb: 'Home Page',\n                protected: true,\n                title: i18n.t('page-title.dashboard')\n            },\n            children: [\n                {\n                    path: \"fields/new\",\n                    name: \"new-channel\",\n                    meta: {\n                        breadcrumb: 'Items',\n                        protected: true,\n                        title: i18n.t('page-title.new-channel'),},\n                    component: () => import(\"@/views/AddChannel\")\n                },\n                {\n                    path: \"fields\",\n                    name: \"my-channels\",\n                    component: () => import(\"@/views/MyChannels\"),\n                    meta: {\n                        protected: true,\n                        title: i18n.t('page-title.my-channels'),\n                        breadcrumb: 'Home Page'\n                    }\n                },\n                {\n                    path: \"fields/:id\",\n                    name: \"detail-channels\",\n                    meta: {\n                        protected: true,\n                        title: i18n.t('page-title.detail-channel')\n                    },\n                    component: () => import(\"@/views/DetailChannel\"),\n                    children: [\n                        {\n                            path: \"view\",\n                            name: \"view\",\n                            meta: {\n                                protected: true,\n                                title: i18n.t('page-title.view')\n                            },\n                            component: () => import(\"@/components/Visualisation\")\n                        }\n                    ]\n                },\n                {\n                    path: \"actions/new\",\n                    name: \"new-trigger\",\n                    meta: {\n                        protected: true,\n                        title: i18n.t('page-title.new-trigger'),\n                        breadcrumb: 'Home Page'\n                    },\n                    component: () => import(\"@/views/AddTrigger\")\n                },\n                {\n                    path: \"actions\",\n                    name: \"my-triggers\",\n                    meta: {\n                        protected: true,\n                        title: i18n.t('page-title.my-triggers')\n                    },\n                    component: () => import(\"@/views/MyTriggers\")\n                },\n                {\n                    path: \"actions/:id\",\n                    name: \"detail-trigger\",\n                    meta: {\n                        protected: true,\n                        title: i18n.t('page-title.detail-trigger')\n                    },\n                    component: () => import(\"@/views/DetailTrigger\"),\n                    children: [\n                        {\n                            path: \"overview\",\n                            name: \"trigger-overview\",\n                            meta: {\n                                protected: true,\n                                title: i18n.t('page-title.trigger-overview')\n                            },\n                            component: () => import(\"@/components/TriggerOverview\")\n                        },\n                        {\n                            path: \"settings\",\n                            name: \"trigger-settings\",\n                            meta: {\n                                protected: true,\n                                title: i18n.t('page-title.trigger-settings')\n                            },\n                            component: () => import(\"@/components/TriggerSettings\")\n                        },\n                    ]\n                }\n            ]\n        }\n    ]\n});\n\nrouter.beforeEach((to, from, next) => {\n    if (!to.meta.protected) { //route is public, don't check for authentication\n        if(store.state.token!= null && to.path === '/auth'){\n            router.push('/dashboard');\n        }else{\n            next()\n        }\n    } else {  //route is protected, if authenticated, proceed. Else, login\n        if(store.getters.getToken!= null){\n            next()\n        }else{\n            router.push('/auth');\n        }\n    }\n});\n\nrouter.afterEach((to) => {\n    Vue.nextTick( () => {\n        document.title = to.meta.title ? to.meta.title : 'Iot Agriculture';\n    });\n});\nexport default router;\n"]}]}